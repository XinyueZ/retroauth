buildscript {
    ext.versions = [
            'compileSdk'                : 28,
            'minSdk'                    : 14,
            'targetSdk'                 : 28,
            'versionName'               : VERSION_NAME,
            'versionCode'               : VERSION_CODE,

            'appcompat'                 : '28+',
            'retrofitMoshi'             : retrofitVersion,
            'retrofitVersion'           : retrofitVersion,
            'retrofitRxAdapter'         : '2.4.0',
            'okhttpLogging'             : '3.10.0',
            'okhttpVersion'             : okhttpVersion,
            'okhttpMockServer'          : okhttpVersion,
            'timber'                    : '4.6.1',
            'rxjava'                    : '2.1.12',
            'rxandroid'                 : '2.0.2',
            'scribejavaApis'            : '5.3.0',
            'scribejavaHttpClientOkHttp': '5.3.0',
            'dexcountGradle'            : '0.6.4',
            'benmanesGradle'            : '0.13.0',
            'codeQuality'               : '0.10.0',

            'junit'                     : '4.12',
            'testRules'                 : '1.0.2',
            'testRunner'                : '1.0.2',
            'mochitoCore'               : '2.21.0',
            'mochitoAndroid'            : '2.21.0',
            'mochitoKotlin'             : '1.5.0',
            'robolectric'               : '4.0-alpha-4-SNAPSHOT',

            'kotlin'                    : kotlinVersion,
            'kotlinStdlib'              : kotlinVersion,
            'kotlinReflect'             : kotlinVersion,
            'gradle'                    : '3.1.4'
    ]
    ext.names = [
            'applicationId'            : 'com.andretietz.retroauth.demo',
            'testInstrumentationRunner': 'android.support.test.runner.AndroidJUnitRunner'
    ]


    repositories {
        jcenter()
        google()
        mavenCentral()
        gradlePluginPortal()
        maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    }
    dependencies {
        // android plugin
        classpath "com.android.tools.build:gradle:${versions.gradle}"
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
        classpath "com.getkeepsafe.dexcount:dexcount-gradle-plugin:${versions.dexcountGradle}"
        classpath "com.github.ben-manes:gradle-versions-plugin:${versions.benmanesGradle}"
        classpath "com.vanniktech:gradle-code-quality-tools-plugin:${versions.codeQuality}"
    }
}

allprojects {
    repositories {
        mavenLocal()
        google()
        mavenCentral()
        jcenter()
        maven { url "https://oss.sonatype.org/content/repositories/snapshots" }
    }
}

apply plugin: "com.vanniktech.code.quality.tools"
codeQualityTools {
    detekt.enabled false
    findbugs.enabled false
    ktlint.enabled false
    lint {
        lintConfig rootProject.file("quality/lint.xml")
    }
    checkstyle {
        configFile rootProject.file("quality/checkstyle.xml").path
    }
    pmd.enabled false
}
